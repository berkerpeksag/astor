[tox]
envlist = 
    py{27, 37, 38, 39, 310, 311, py, py3.5}
    lint
skipsdist = True
skip_missing_interpreters = true

[testenv]
usedevelop = True
commands = 
        coverage run {envbindir}/nosetests -v --nocapture {posargs}
        coverage run {envbindir}/pytest {posargs}
        coverage report
deps =
 -rrequirements-tox.txt
 py27,pypy: unittest2

[testenv:lint]
deps = flake8
commands = flake8 astor/

[flake8]
ignore = E114, E116, E501, W504

[travis]
python =
  3.7: py37, lint
